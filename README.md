# Сервис трёхмерной печати

## Основная информация

Цели:
- вовлечь людей в творческий процесс моделирования изделий
- сделать доступной возможность трёхмерной печати для DIY, хобби и ремонта

## Проект

### Функциональное задание

В целом, пользователь может как загрузить свою модель, так и выбрать из каталога.

Загрузка своей модели:
1. Пользователь выгружает на сайт 3D-модель либо выбирает её из каталога на сайте
2. Выбирает тип пластика (по необходимым свойствам, без названий). Если модель выбрана из каталога , то дополнительно можно поменять размер, некоторые конструктивные особенности
3. Пользователь выбирает 3D-принтер (название содержит местоположение + заказов в очереди) вручную, при этом автоматически предлагается ближайший мене загруженный принтер.
4. Происходит проверка модели на наличие ошибок
5. Пользователь указывает адрес доставки оплачивает заказ

### Техническое задание

Таблица принтеров:
- user
- почтовый адрес
- координаты Gps

### API сервиса

Метод печати:
- модель,
- принтер, параметры печати,
- доставить напечатанную модель по почтовому адресу либо подать продукцию на другой станок (распредёлённый конвейер), например шлифовка, печка (для сглаживания слоёв) или сборка с другими деталями
- доставить человеком или роботом

Метод добавления принтера:
- принтер,
- характеристики
- географическое положение
- URL-адрес API-принтера

## Потенциальные проблемы

- сложность автоматической доставки продукции к пользователю
- сложность автоматической доставки продукции к следующему станку
- сложность автоматической доставки филламента
- не понятно, как расчитать расход времеени печати для конкретной модели, чтобы планировать очередь и ориентировочные сроки печати
- несоответствие размера напечатанной модели размеру цифровой модели

## Ценовая политика

Платёж за печать состоит из:
- вознаграждение автору модели, если пользователь выбрал модель из каталога 
- добавленная стоимость и покрытие себестоимости (цена материала, электричества, амортизация принтера) владельцу принтера
- комиссия сервису

Если пользователь загружает свою модель на печать, то ему предлагается стать автором и опубликовать модель в каталоге.

## Используемые технологии

Сервис распределения - железо:
- виртуальный хостинг с сервером nginx
- ОС семейства Linux

Сервис распределения - тыловая часть:
- Python, Django, RESTFramework
- В режиме тестирования - SQLite, затем - Postgesql

Сервис распределения - фронтальная часть:
- VueJS, Bootstrap

Принтер - тыловая часть:
- Python, FastAPI
- SQLite, так как не планируется многопользовательский режим

Принтер - фронтальная часть:
- чистый JS, так как будет, вероятнее всего одна страничка для отображеня статистики и выполнения минимальной настройки

Принтер - железо:
- Разнообразные микрокомпьютеры на выбор. Например, RaspberryPi
- ОС семейства Linux
- Выделенный IP-адрес не требуется

Проектирование 3D-моделей:
- FreeCAD

## Дорожная карта

### Приобретение и подготовка ресурсов

- [ ] Приобрести микрокомпьютер Raspberry либо аналогичный
- [ ] Приобрести 3D-принтер
- [ ] Составить список потенциальных участников сервиса: заказчики (сервисные мастерские, например), владельцы принтеров (самозанятые, ЦМИТы и т. п.)

### Шаг 1. Инициализация проекта

Сервер Веб-сервиса:
- [ ] Купить доменное имя
- [ ] Установить фреймворк, подготовить бэкенд и фронтенд (переименовать диреткории, сделать главную страничку)
- [ ] Добавить: цель проекта, обобщённую дорожную карту, ссылку на репозиторий, ссылку на Дискорд-сообщество
- [ ] Сделать регистрацию/авторизацию пользователей, добавить отдельную роль для своершения тестовых заказов. Указать, что заказы пока доступны в тестовом режиме.
- [ ] Сделать форму приёма/сохранения заказа
- [ ] Сделать форму получения токенов для обращения принтера к веб-сайту
- [ ] Реализовать API: для получения информация от принтера, отправки заказ на принтер
- [ ] Написать тесты для тестирования обращения принтера ко всем методам API
- [ ] Сделать форму для добавления токена от принтера

Сервер 3D-принтера:
- [ ] Сделать веб-страничку для отображения формыы с настройками (адрес сервера веб-сайта, токен доступа), статистикой (заказов в очереди, статус принтера)
- [ ] Реализовать механизм генерации токена для веб-сервиса
- [ ] Реализовать API: приёма заказа, отправка уведомления о готовности принимать заказы, отправка уведлмления о неготовности принимать заказы (поломка, замена филамента и т. д.)
- [ ] Написать тесты для API

### Шаг 2. Подключение 3D-принтера

Сервер Веб-сервиса:
- [ ] Реализовать конвертацию, нарезку 3D-модели для 3D-принтера
- [ ] Сделать каталог для пользовательских 3D-моделей
- [ ] Спроектировать для каталога несколько полезных тестовых 3D-моделей в виде макроса на Python

Сервер 3D-принтера:
- [ ] Реализовать передачу 3D-модели в принтер
